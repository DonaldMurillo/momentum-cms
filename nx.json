{
	"$schema": "./node_modules/nx/schemas/nx-schema.json",
	"namedInputs": {
		"default": ["{projectRoot}/**/*", "sharedGlobals"],
		"production": [
			"default",
			"!{projectRoot}/.eslintrc.json",
			"!{projectRoot}/eslint.config.mjs",
			"!{projectRoot}/**/?(*.)+(spec|test).[jt]s?(x)?(.snap)",
			"!{projectRoot}/tsconfig.spec.json",
			"!{projectRoot}/src/test-setup.[jt]s",
			"!{projectRoot}/test-setup.[jt]s",
			"!{projectRoot}/**/*.stories.@(js|jsx|ts|tsx|mdx)",
			"!{projectRoot}/.storybook/**/*",
			"!{projectRoot}/tsconfig.storybook.json"
		],
		"sharedGlobals": []
	},
	"parallel": 3,
	"targetDefaults": {
		"@angular/build:application": {
			"cache": true,
			"dependsOn": ["^build"],
			"inputs": ["production", "^production"]
		},
		"@nx/eslint:lint": {
			"cache": true,
			"inputs": [
				"default",
				"{workspaceRoot}/.eslintrc.json",
				"{workspaceRoot}/.eslintignore",
				"{workspaceRoot}/eslint.config.mjs"
			]
		},
		"@angular/build:unit-test": {
			"cache": true,
			"inputs": ["default", "^production"]
		},
		"@nx/esbuild:esbuild": {
			"cache": true,
			"dependsOn": ["^build"],
			"inputs": ["production", "^production"],
			"options": {
				"assets": ["{projectRoot}/*.md", { "input": ".", "glob": "LICENSE", "output": "." }],
				"format": ["cjs", "esm"],
				"generatePackageJson": true
			}
		},
		"@nx/angular:package": {
			"cache": true,
			"dependsOn": ["^build"],
			"inputs": ["production", "^production"]
		},
		"@nx/angular:unit-test": {
			"cache": true,
			"inputs": ["default", "^production"]
		},
		"e2e": {
			"cache": true,
			"inputs": ["default", "^production"],
			"dependsOn": ["^build"]
		},
		"build": {
			"dependsOn": ["^build"],
			"cache": true
		},
		"test": {
			"cache": true,
			"inputs": ["default", "^production"]
		},
		"lint": {
			"cache": true
		},
		"@nx/js:tsc": {
			"cache": true,
			"dependsOn": ["^build"],
			"inputs": ["production", "^production"],
			"options": {
				"assets": ["{projectRoot}/*.md", { "input": ".", "glob": "LICENSE", "output": "." }]
			}
		}
	},
	"plugins": [
		{
			"plugin": "@nx/playwright/plugin",
			"options": {
				"targetName": "e2e"
			}
		},
		{
			"plugin": "@nx/eslint/plugin",
			"options": {
				"targetName": "lint"
			}
		},
		{
			"plugin": "@nx/storybook/plugin",
			"options": {
				"serveStorybookTargetName": "storybook",
				"buildStorybookTargetName": "build-storybook",
				"testStorybookTargetName": "test-storybook",
				"staticStorybookTargetName": "static-storybook",
				"buildDepsTargetName": "build-deps",
				"watchDepsTargetName": "watch-deps"
			}
		},
		{
			"plugin": "@nx/vitest",
			"options": {
				"testTargetName": "vitest:test",
				"ciTargetName": "test-ci",
				"testMode": "watch"
			}
		}
	],
	"generators": {
		"@nx/angular:application": {
			"e2eTestRunner": "playwright",
			"linter": "eslint",
			"style": "css",
			"unitTestRunner": "vitest-angular"
		},
		"@nx/angular:library": {
			"linter": "eslint",
			"unitTestRunner": "vitest-angular"
		},
		"@nx/angular:component": {
			"style": "css"
		}
	},
	"release": {
		"projects": [
			"core",
			"logger",
			"storage",
			"ui",
			"admin",
			"auth",
			"db-drizzle",
			"server-core",
			"server-express",
			"server-analog",
			"plugins-core",
			"plugins-analytics",
			"plugins-otel",
			"plugins-seo",
			"migrations",
			"create-momentum-app"
		],
		"version": {
			"preVersionCommand": "npx nx run-many -t build",
			"conventionalCommits": true,
			"manifestRootsToUpdate": ["{projectRoot}", "dist/{projectRoot}"]
		},
		"changelog": {
			"projectChangelogs": true
		}
	},
	"tasksRunnerOptions": {
		"default": {
			"runner": "nx/tasks-runners/default",
			"options": {
				"cacheableOperations": ["build", "lint", "test", "e2e", "build-storybook"]
			}
		}
	}
}
